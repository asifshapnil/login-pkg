import{jsx as e,jsxs as a,Fragment as i}from"react/jsx-runtime";import r from"react-dom/client";import"bootstrap/dist/css/bootstrap.min.css";import{useNavigate as n,useLocation as l,BrowserRouter as t,Routes as o,Route as s}from"react-router-dom";import{useState as d,createRef as m}from"react";import{Form as c,Button as h}from"react-bootstrap";import{Formik as u,ErrorMessage as p}from"formik";import{faEyeSlash as f,faEye as g}from"@fortawesome/free-solid-svg-icons";import{FontAwesomeIcon as v}from"@fortawesome/react-fontawesome";import*as b from"yup";const y=({formRef:i,formConfig:r,initialValues:n,validation:l,renderCount:t})=>{const{controls:o}=r,[s,m]=d(!1),h=()=>{m(e=>!e)};return e("div",{children:Object.keys(n).length?e(u,{innerRef:i,enableReinitialize:!0,onSubmit:e=>{},validationSchema:l,initialValues:n,children:({handleSubmit:i,handleChange:r,setFieldValue:n,values:l,touched:t,errors:d})=>e(c,{noValidate:!0,onSubmit:i,children:e("div",{className:"",children:o&&o.length?o.map((i,o)=>e("div",{children:(()=>{switch(i.type){case"text":return a("div",{className:"d-flex flex-column justify-content-start align-items-start mt-3 mb-3",children:[a("div",{className:"mb-2",children:[i.label,i.required&&e("span",{className:"text-danger",children:"*"})]}),e("div",{className:"w-100",children:a(c.Group,{children:[e("div",{className:"d-flex align-items-center",children:e(c.Control,{type:"text",placeholder:i.placeholder,name:i.name,onChange:e=>{r(e),n(i?.name,e.target.value)},value:l[i?.name],required:i.required??!1,isValid:t[i.name]&&!d[i.name],isInvalid:(!!t[i.name]&&!!d[i.name])??!1})}),e(p,{name:i.name,component:"div",className:"error-message"})]})})]});case"email":return a("div",{className:"d-flex flex-column justify-content-start align-items-start mt-3 mb-3",children:[a("div",{className:"mb-2",children:[i.label,i.required&&e("span",{className:"text-danger",children:"*"})]}),e("div",{className:"w-100",children:a(c.Group,{children:[e(c.Control,{type:"email",placeholder:i.placeholder,name:i.name,onChange:e=>{r(e),n(i?.name,e.target.value)},value:l[i?.name],required:i.required??!1,disabled:i.disabled??!1,isValid:t[i.name]&&!d[i.name],isInvalid:(!!t[i.name]&&!!d[i.name])??!1}),e(p,{name:i.name,component:"div",className:"error-message"})]})})]});case"password":return a("div",{className:"d-flex flex-column justify-content-start align-items-start mt-3 mb-3",children:[a("div",{className:"mb-2",children:[i.label,i.required&&e("span",{className:"text-danger",children:"*"})]}),e("div",{className:"w-100",children:a(c.Group,{children:[a("div",{className:"d-flex align-items-center gap-2 position-relative ",children:[e(c.Control,{type:s?"text":"password",placeholder:i.placeholder,name:i.name,onChange:e=>{r(e),n(i?.name,e.target.value)},value:l[i?.name],required:i.required??!1,readOnly:i.readOnly??!1,disabled:i.disabled??!1,isValid:t[i.name]&&!d[i.name],isInvalid:(!!t[i.name]&&!!d[i.name])??!1}),e("button",{type:"button",onClick:h,className:"password-toggle-button border-0 position-absolute end-0 me-2",children:e(v,s?{icon:f}:{icon:g})})]}),e(p,{name:i.name,component:"div",className:"error-message"})]})})]});default:return null}})()},o)):""})})},t||0):null})},N=({formRef:r,initialValues:n,formConfig:l,validationSchema:t,loginAction:o})=>e(i,{children:a("div",{className:"login-container",style:{height:"100vh"},children:[e("div",{className:"login-page-backsplash",style:{width:"100vw",height:"60vh",background:"linear-gradient(to right, #ebebeb, #9e9e9e)",borderBottomLeftRadius:"55% 71%",borderBottomRightRadius:"54% 71%",overflow:"hidden"}}),e("div",{className:"login-card-wrapper p-2",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:a("div",{className:"bg-light shadow-lg",style:{borderRadius:"5px",width:"30rem",display:"flex",flexDirection:"column",marginTop:"-10rem",padding:"1rem"},children:[e("div",{children:e("div",{style:{fontSize:"18px",fontWeight:"700"},children:"Login to test system"})}),e("div",{children:e(y,{formRef:r,initialValues:n,validation:t,formConfig:l})}),e(h,{variant:o.variant,className:"btn mt-5",onClick:o.event,children:o.label})]})})]})}),w=()=>{console.log(111111111);const a=m(),i=n(),[r,l]=d({email:"",password:""}),t=b.object().shape({email:b.string().email("Please enter a valid email address").required("Email is required"),password:b.string().required("Password is required")});return e(N,{formRef:a,initialValues:r,formConfig:{controls:[{name:"email",label:"Email",placeholder:"example@domain.com",type:"text"},{name:"password",label:"password",placeholder:"******",type:"password"}]},validationSchema:t,loginAction:{variant:"primary",label:"Signin",event:()=>{const e=a.current;if(e){e.handleSubmit(),console.log(e.values);const{email:a,password:r}=e.values;if(!a||!r)return;i(`profile?email=${a}`)}}}})},x=()=>{const a=l(),r=new URLSearchParams(a.search).get("email");return e(i,{children:r??"Not found"})};r.createRoot(document.getElementById("root")).render(e(function(){return e(t,{children:a(o,{children:[e(s,{path:"",element:e(w,{})}),e(s,{path:"/profile",element:e(x,{})})]})})},{}));export{y as FormBuilder,N as Login};
//# sourceMappingURL=index.esm.js.map

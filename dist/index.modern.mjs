import{jsx as e,jsxs as a,Fragment as l}from"react/jsx-runtime";import n from"react-dom/client";import"bootstrap/dist/css/bootstrap.min.css";import{useNavigate as i,useLocation as r,BrowserRouter as t,Routes as o,Route as s}from"react-router-dom";import{useState as d,createRef as m}from"react";import{Form as c,Button as u}from"react-bootstrap";import{Formik as h,ErrorMessage as p}from"formik";import{faEyeSlash as v,faEye as f}from"@fortawesome/free-solid-svg-icons";import{FontAwesomeIcon as g}from"@fortawesome/react-fontawesome";import*as b from"yup";const y=({formRef:l,formConfig:n,initialValues:i,validation:r,renderCount:t})=>{const{controls:o}=n,[s,m]=d(!1),u=()=>{m(e=>!e)};return e("div",{children:Object.keys(i).length?e(h,{innerRef:l,enableReinitialize:!0,onSubmit:e=>{},validationSchema:r,initialValues:i,children:({handleSubmit:l,handleChange:n,setFieldValue:i,values:r,touched:t,errors:d})=>e(c,{noValidate:!0,onSubmit:l,children:e("div",{className:"",children:o&&o.length?o.map((l,o)=>e("div",{children:((o,m,h,b,y,N,w,x,C)=>{switch(l.type){case"text":return a("div",{className:"d-flex flex-column justify-content-start align-items-start mt-3 mb-3",children:[a("div",{className:"mb-2",children:[l.label,l.required&&e("span",{className:"text-danger",children:"*"})]}),e("div",{className:"w-100",children:a(c.Group,{children:[e("div",{className:"d-flex align-items-center",children:e(c.Control,{type:"text",placeholder:l.placeholder,name:l.name,onChange:e=>{n(e),i(null==l?void 0:l.name,e.target.value)},value:r[null==l?void 0:l.name],required:null!=(o=l.required)&&o,isValid:t[l.name]&&!d[l.name],isInvalid:null!=(m=!!t[l.name]&&!!d[l.name])&&m})}),e(p,{name:l.name,component:"div",className:"error-message"})]})})]});case"email":return a("div",{className:"d-flex flex-column justify-content-start align-items-start mt-3 mb-3",children:[a("div",{className:"mb-2",children:[l.label,l.required&&e("span",{className:"text-danger",children:"*"})]}),e("div",{className:"w-100",children:a(c.Group,{children:[e(c.Control,{type:"email",placeholder:l.placeholder,name:l.name,onChange:e=>{n(e),i(null==l?void 0:l.name,e.target.value)},value:r[null==l?void 0:l.name],required:null!=(h=l.required)&&h,disabled:null!=(b=l.disabled)&&b,isValid:t[l.name]&&!d[l.name],isInvalid:null!=(y=!!t[l.name]&&!!d[l.name])&&y}),e(p,{name:l.name,component:"div",className:"error-message"})]})})]});case"password":return a("div",{className:"d-flex flex-column justify-content-start align-items-start mt-3 mb-3",children:[a("div",{className:"mb-2",children:[l.label,l.required&&e("span",{className:"text-danger",children:"*"})]}),e("div",{className:"w-100",children:a(c.Group,{children:[a("div",{className:"d-flex align-items-center gap-2 position-relative ",children:[e(c.Control,{type:s?"text":"password",placeholder:l.placeholder,name:l.name,onChange:e=>{n(e),i(null==l?void 0:l.name,e.target.value)},value:r[null==l?void 0:l.name],required:null!=(N=l.required)&&N,readOnly:null!=(w=l.readOnly)&&w,disabled:null!=(x=l.disabled)&&x,isValid:t[l.name]&&!d[l.name],isInvalid:null!=(C=!!t[l.name]&&!!d[l.name])&&C}),e("button",{type:"button",onClick:u,className:"password-toggle-button border-0 position-absolute end-0 me-2",children:e(g,s?{icon:v}:{icon:f})})]}),e(p,{name:l.name,component:"div",className:"error-message"})]})})]});default:return null}})()},o)):""})})},t||0):null})},N=({formRef:n,initialValues:i,formConfig:r,validationSchema:t,loginAction:o})=>e(l,{children:a("div",{className:"login-container",style:{height:"100vh"},children:[e("div",{className:"login-page-backsplash",style:{width:"100vw",height:"60vh",background:"linear-gradient(to right, #ebebeb, #9e9e9e)",borderBottomLeftRadius:"55% 71%",borderBottomRightRadius:"54% 71%",overflow:"hidden"}}),e("div",{className:"login-card-wrapper p-2",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:a("div",{className:"bg-light shadow-lg",style:{borderRadius:"5px",width:"30rem",display:"flex",flexDirection:"column",marginTop:"-10rem",padding:"1rem"},children:[e("div",{children:e("div",{style:{fontSize:"18px",fontWeight:"700"},children:"Login to test system"})}),e("div",{children:e(y,{formRef:n,initialValues:i,validation:t,formConfig:r})}),e(u,{variant:o.variant,className:"btn mt-5",onClick:o.event,children:o.label})]})})]})}),w=()=>{console.log(111111111);const a=m(),l=i(),[n,r]=d({email:"",password:""}),t=b.object().shape({email:b.string().email("Please enter a valid email address").required("Email is required"),password:b.string().required("Password is required")});return e(N,{formRef:a,initialValues:n,formConfig:{controls:[{name:"email",label:"Email",placeholder:"example@domain.com",type:"text"},{name:"password",label:"password",placeholder:"******",type:"password"}]},validationSchema:t,loginAction:{variant:"primary",label:"Signin",event:()=>{const e=a.current;if(e){e.handleSubmit(),console.log(e.values);const{email:a,password:n}=e.values;if(!a||!n)return;l(`profile?email=${a}`)}}}})},x=()=>{const a=r(),n=new URLSearchParams(a.search).get("email");return e(l,{children:null!=n?n:"Not found"})};n.createRoot(document.getElementById("root")).render(e(function(){return e(t,{children:a(o,{children:[e(s,{path:"",element:e(w,{})}),e(s,{path:"/profile",element:e(x,{})})]})})},{}));export{y as FormBuilder,N as Login};
//# sourceMappingURL=index.modern.mjs.map

var e=require("react/jsx-runtime"),a=require("react-dom/client");require("bootstrap/dist/css/bootstrap.min.css");var r=require("react-router-dom"),s=require("react"),n=require("react-bootstrap"),i=require("formik"),t=require("@fortawesome/free-solid-svg-icons"),l=require("@fortawesome/react-fontawesome"),o=require("yup");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var a=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(a,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}}),a.default=e,a}var c=/*#__PURE__*/d(a),u=/*#__PURE__*/m(o);const h=({formRef:a,formConfig:r,initialValues:o,validation:d,renderCount:m})=>{const{controls:c}=r,[u,h]=s.useState(!1),x=()=>{h(e=>!e)};return e.jsx("div",{children:Object.keys(o).length?e.jsx(i.Formik,{innerRef:a,enableReinitialize:!0,onSubmit:e=>{},validationSchema:d,initialValues:o,children:({handleSubmit:a,handleChange:r,setFieldValue:s,values:o,touched:d,errors:m})=>e.jsx(n.Form,{noValidate:!0,onSubmit:a,children:e.jsx("div",{className:"",children:c&&c.length?c.map((a,c)=>e.jsx("div",{children:(()=>{switch(a.type){case"text":return e.jsxs("div",{className:"d-flex flex-column justify-content-start align-items-start mt-3 mb-3",children:[e.jsxs("div",{className:"mb-2",children:[a.label,a.required&&e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("div",{className:"w-100",children:e.jsxs(n.Form.Group,{children:[e.jsx("div",{className:"d-flex align-items-center",children:e.jsx(n.Form.Control,{type:"text",placeholder:a.placeholder,name:a.name,onChange:e=>{r(e),s(a?.name,e.target.value)},value:o[a?.name],required:a.required??!1,isValid:d[a.name]&&!m[a.name],isInvalid:(!!d[a.name]&&!!m[a.name])??!1})}),e.jsx(i.ErrorMessage,{name:a.name,component:"div",className:"error-message"})]})})]});case"email":return e.jsxs("div",{className:"d-flex flex-column justify-content-start align-items-start mt-3 mb-3",children:[e.jsxs("div",{className:"mb-2",children:[a.label,a.required&&e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("div",{className:"w-100",children:e.jsxs(n.Form.Group,{children:[e.jsx(n.Form.Control,{type:"email",placeholder:a.placeholder,name:a.name,onChange:e=>{r(e),s(a?.name,e.target.value)},value:o[a?.name],required:a.required??!1,disabled:a.disabled??!1,isValid:d[a.name]&&!m[a.name],isInvalid:(!!d[a.name]&&!!m[a.name])??!1}),e.jsx(i.ErrorMessage,{name:a.name,component:"div",className:"error-message"})]})})]});case"password":return e.jsxs("div",{className:"d-flex flex-column justify-content-start align-items-start mt-3 mb-3",children:[e.jsxs("div",{className:"mb-2",children:[a.label,a.required&&e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("div",{className:"w-100",children:e.jsxs(n.Form.Group,{children:[e.jsxs("div",{className:"d-flex align-items-center gap-2 position-relative ",children:[e.jsx(n.Form.Control,{type:u?"text":"password",placeholder:a.placeholder,name:a.name,onChange:e=>{r(e),s(a?.name,e.target.value)},value:o[a?.name],required:a.required??!1,readOnly:a.readOnly??!1,disabled:a.disabled??!1,isValid:d[a.name]&&!m[a.name],isInvalid:(!!d[a.name]&&!!m[a.name])??!1}),e.jsx("button",{type:"button",onClick:x,className:"password-toggle-button border-0 position-absolute end-0 me-2",children:e.jsx(l.FontAwesomeIcon,u?{icon:t.faEyeSlash}:{icon:t.faEye})})]}),e.jsx(i.ErrorMessage,{name:a.name,component:"div",className:"error-message"})]})})]});default:return null}})()},c)):""})})},m||0):null})},x=({formRef:a,initialValues:r,formConfig:s,validationSchema:i,loginAction:t})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"login-container",style:{height:"100vh"},children:[e.jsx("div",{className:"login-page-backsplash",style:{width:"100vw",height:"60vh",background:"linear-gradient(to right, #ebebeb, #9e9e9e)",borderBottomLeftRadius:"55% 71%",borderBottomRightRadius:"54% 71%",overflow:"hidden"}}),e.jsx("div",{className:"login-card-wrapper p-2",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsxs("div",{className:"bg-light shadow-lg",style:{borderRadius:"5px",width:"30rem",display:"flex",flexDirection:"column",marginTop:"-10rem",padding:"1rem"},children:[e.jsx("div",{children:e.jsx("div",{style:{fontSize:"18px",fontWeight:"700"},children:"Login to test system"})}),e.jsx("div",{children:e.jsx(h,{formRef:a,initialValues:r,validation:i,formConfig:s})}),e.jsx(n.Button,{variant:t.variant,className:"btn mt-5",onClick:t.event,children:t.label})]})})]})}),f=()=>{console.log(111111111);const a=s.createRef(),n=r.useNavigate(),[i,t]=s.useState({email:"",password:""}),l=u.object().shape({email:u.string().email("Please enter a valid email address").required("Email is required"),password:u.string().required("Password is required")});return e.jsx(x,{formRef:a,initialValues:i,formConfig:{controls:[{name:"email",label:"Email",placeholder:"example@domain.com",type:"text"},{name:"password",label:"password",placeholder:"******",type:"password"}]},validationSchema:l,loginAction:{variant:"primary",label:"Signin",event:()=>{const e=a.current;if(e){e.handleSubmit(),console.log(e.values);const{email:a,password:r}=e.values;if(!a||!r)return;n(`profile?email=${a}`)}}}})},g=()=>{const a=r.useLocation(),s=new URLSearchParams(a.search).get("email");return e.jsx(e.Fragment,{children:s??"Not found"})};c.default.createRoot(document.getElementById("root")).render(e.jsx(function(){return e.jsx(r.BrowserRouter,{children:e.jsxs(r.Routes,{children:[e.jsx(r.Route,{path:"",element:e.jsx(f,{})}),e.jsx(r.Route,{path:"/profile",element:e.jsx(g,{})})]})})},{})),exports.FormBuilder=h,exports.Login=x;
//# sourceMappingURL=index.js.map
